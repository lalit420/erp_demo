<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projects - Construction ERP</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">üèóÔ∏è</div>
        <div class="company-name">BuildPro ERP</div>
      </div>
      <nav>
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="dashboard.html" class="nav-link">
              <span class="nav-icon">üìä</span>
              <span>Dashboard</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="projects.html" class="nav-link active">
              <span class="nav-icon">üìÅ</span>
              <span>Projects</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="clients.html" class="nav-link">
              <span class="nav-icon">üë•</span>
              <span>Clients</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="vendors.html" class="nav-link">
              <span class="nav-icon">üè™</span>
              <span>Vendors</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="procurement.html" class="nav-link">
              <span class="nav-icon">üõí</span>
              <span>Procurement</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="inventory.html" class="nav-link">
              <span class="nav-icon">üì¶</span>
              <span>Inventory</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="labour.html" class="nav-link">
              <span class="nav-icon">üë∑</span>
              <span>Labour</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="equipment.html" class="nav-link">
              <span class="nav-icon">üöú</span>
              <span>Equipment</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="finance.html" class="nav-link">
              <span class="nav-icon">üí∞</span>
              <span>Finance</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="reports.html" class="nav-link">
              <span class="nav-icon">üìà</span>
              <span>Reports</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="settings.html" class="nav-link">
              <span class="nav-icon">‚öôÔ∏è</span>
              <span>Settings</span>
            </a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="header">
        <div class="header-left">
          <h1>Projects Management</h1>
          <div class="breadcrumb">
            <span>Home</span> / <span>Projects</span>
          </div>
        </div>
        <div class="header-right">
          <div class="search-box">
            <span class="search-icon">üîç</span>
            <input type="text" id="projectSearchInput" placeholder="Search projects...">
          </div>
          <button class="notification-btn">
            <span>üîî</span>
            <span class="notification-badge">5</span>
          </button>
          <button class="profile-btn">
            <div class="user-avatar">JD</div>
          </button>
        </div>
      </header>

      <!-- Content Area -->
      <div class="content-area">
        <!-- Filters and Actions -->
        <div class="card">
          <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
            <div style="display: flex; gap: 12px; flex-wrap: wrap;">
              <select class="form-select" style="width: auto;" id="statusFilter">
                <option value="all">All Status</option>
                <option value="Planning">Planning</option>
                <option value="In Progress">In Progress</option>
                <option value="On Hold">On Hold</option>
                <option value="Completed">Completed</option>
              </select>
              <select class="form-select" style="width: auto;" id="typeFilter">
                <option value="all">All Types</option>
                <option value="Residential">Residential</option>
                <option value="Commercial">Commercial</option>
                <option value="Infrastructure">Infrastructure</option>
                <option value="Industrial">Industrial</option>
                <option value="Hospitality">Hospitality</option>
                <option value="Mixed-Use">Mixed-Use</option>
              </select>
              <select class="form-select" style="width: auto;" id="sortFilter">
                <option value="latest">Sort by: Latest</option>
                <option value="name">Sort by: Name</option>
                <option value="budget">Sort by: Budget</option>
                <option value="progress">Sort by: Progress</option>
              </select>
            </div>
            <div style="display: flex; gap: 12px;">
              <button class="btn btn-secondary" onclick="showViewOptions()">
                <span>‚öôÔ∏è</span> View Options
              </button>
              <button class="btn btn-primary" onclick="showAddProject()">
                <span>+</span> Add Project
              </button>
            </div>
          </div>
        </div>

        <!-- Projects Grid View -->
        <div class="grid grid-3 mt-3 projects-grid" id="projectsGrid">
          <!-- Project Card 1 -->
          <div class="card project-card" style="cursor: pointer;" onclick="showProjectDetails('Apollo Towers')" data-name="Apollo Towers" data-client="Tech Corp Ltd." data-status="In Progress" data-type="Commercial" data-budget="12.5" data-progress="75" data-index="6">
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
              <div>
                <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 4px;">Apollo Towers</h3>
                <div style="font-size: 13px; color: var(--text-secondary);">PRJ-2024-001</div>
              </div>
              <span class="badge badge-success">In Progress</span>
            </div>
            
            <div style="margin-bottom: 16px;">
              <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">Client: Tech Corp Ltd.</div>
              <div style="font-size: 13px; color: var(--text-secondary);">Type: Commercial</div>
            </div>

            <div style="margin-bottom: 16px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <span style="font-size: 13px; font-weight: 500;">Progress</span>
                <span style="font-size: 13px; font-weight: 600; color: var(--success-color);">75%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill success" style="width: 75%;"></div>
              </div>
            </div>

            <div style="display: flex; justify-content: space-between; padding-top: 16px; border-top: 1px solid var(--border-color);">
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Budget</div>
                <div style="font-weight: 600;">‚Çπ12.5 Cr</div>
              </div>
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Deadline</div>
                <div style="font-weight: 600;">Mar 2026</div>
              </div>
            </div>

            <div class="project-avatars" style="display: flex; gap: 8px; margin-top: 16px;">
              <div class="avatar" style="background: #3b82f6; width: 32px; height: 32px; font-size: 12px;">RS</div>
              <div class="avatar" style="background: #10b981; width: 32px; height: 32px; font-size: 12px;">AK</div>
              <div class="avatar" style="background: #f59e0b; width: 32px; height: 32px; font-size: 12px;">MK</div>
              <div class="avatar" style="background: var(--text-secondary); width: 32px; height: 32px; font-size: 11px;">+5</div>
            </div>
          </div>

          <!-- Project Card 2 -->
          <div class="card project-card" style="cursor: pointer;" onclick="showProjectDetails('Metro Plaza')" data-name="Metro Plaza" data-client="Metro Developers" data-status="In Progress" data-type="Residential" data-budget="8.3" data-progress="45" data-index="5">
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
              <div>
                <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 4px;">Metro Plaza</h3>
                <div style="font-size: 13px; color: var(--text-secondary);">PRJ-2024-002</div>
              </div>
              <span class="badge badge-success">In Progress</span>
            </div>
            
            <div style="margin-bottom: 16px;">
              <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">Client: Metro Developers</div>
              <div style="font-size: 13px; color: var(--text-secondary);">Type: Residential</div>
            </div>

            <div style="margin-bottom: 16px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <span style="font-size: 13px; font-weight: 500;">Progress</span>
                <span style="font-size: 13px; font-weight: 600; color: var(--warning-color);">45%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill warning" style="width: 45%;"></div>
              </div>
            </div>

            <div style="display: flex; justify-content: space-between; padding-top: 16px; border-top: 1px solid var(--border-color);">
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Budget</div>
                <div style="font-weight: 600;">‚Çπ8.3 Cr</div>
              </div>
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Deadline</div>
                <div style="font-weight: 600;">Jun 2026</div>
              </div>
            </div>

            <div class="project-avatars" style="display: flex; gap: 8px; margin-top: 16px;">
              <div class="avatar" style="background: #ef4444; width: 32px; height: 32px; font-size: 12px;">VJ</div>
              <div class="avatar" style="background: #8b5cf6; width: 32px; height: 32px; font-size: 12px;">PK</div>
              <div class="avatar" style="background: var(--text-secondary); width: 32px; height: 32px; font-size: 11px;">+3</div>
            </div>
          </div>

          <!-- Project Card 3 -->
          <div class="card project-card" style="cursor: pointer;" onclick="showProjectDetails('Green Valley Resort')" data-name="Green Valley Resort" data-client="Valley Resorts Pvt Ltd" data-status="Planning" data-type="Hospitality" data-budget="15.7" data-progress="15" data-index="4">
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
              <div>
                <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 4px;">Green Valley Resort</h3>
                <div style="font-size: 13px; color: var(--text-secondary);">PRJ-2024-003</div>
              </div>
              <span class="badge badge-warning">Planning</span>
            </div>
            
            <div style="margin-bottom: 16px;">
              <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">Client: Valley Resorts Pvt Ltd</div>
              <div style="font-size: 13px; color: var(--text-secondary);">Type: Hospitality</div>
            </div>

            <div style="margin-bottom: 16px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <span style="font-size: 13px; font-weight: 500;">Progress</span>
                <span style="font-size: 13px; font-weight: 600; color: var(--text-secondary);">15%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 15%;"></div>
              </div>
            </div>

            <div style="display: flex; justify-content: space-between; padding-top: 16px; border-top: 1px solid var(--border-color);">
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Budget</div>
                <div style="font-weight: 600;">‚Çπ15.7 Cr</div>
              </div>
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Deadline</div>
                <div style="font-weight: 600;">Dec 2026</div>
              </div>
            </div>

            <div class="project-avatars" style="display: flex; gap: 8px; margin-top: 16px;">
              <div class="avatar" style="background: #06b6d4; width: 32px; height: 32px; font-size: 12px;">SK</div>
              <div class="avatar" style="background: #ec4899; width: 32px; height: 32px; font-size: 12px;">RP</div>
              <div class="avatar" style="background: var(--text-secondary); width: 32px; height: 32px; font-size: 11px;">+6</div>
            </div>
          </div>

          <!-- Project Card 4 -->
          <div class="card project-card" style="cursor: pointer;" data-name="Sky Heights" data-client="Urban Homes Ltd" data-status="Completed" data-type="Residential" data-budget="9.2" data-progress="100" data-index="3">
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
              <div>
                <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 4px;">Sky Heights</h3>
                <div style="font-size: 13px; color: var(--text-secondary);">PRJ-2023-045</div>
              </div>
              <span class="badge badge-info">Completed</span>
            </div>
            
            <div style="margin-bottom: 16px;">
              <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">Client: Urban Homes Ltd</div>
              <div style="font-size: 13px; color: var(--text-secondary);">Type: Residential</div>
            </div>

            <div style="margin-bottom: 16px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <span style="font-size: 13px; font-weight: 500;">Progress</span>
                <span style="font-size: 13px; font-weight: 600; color: var(--success-color);">100%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill success" style="width: 100%;"></div>
              </div>
            </div>

            <div style="display: flex; justify-content: space-between; padding-top: 16px; border-top: 1px solid var(--border-color);">
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Budget</div>
                <div style="font-weight: 600;">‚Çπ9.2 Cr</div>
              </div>
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Completed</div>
                <div style="font-weight: 600;">Jan 2026</div>
              </div>
            </div>

            <div class="project-avatars" style="display: flex; gap: 8px; margin-top: 16px;">
              <div class="avatar" style="background: #3b82f6; width: 32px; height: 32px; font-size: 12px;">DK</div>
              <div class="avatar" style="background: #10b981; width: 32px; height: 32px; font-size: 12px;">NM</div>
              <div class="avatar" style="background: var(--text-secondary); width: 32px; height: 32px; font-size: 11px;">+4</div>
            </div>
          </div>

          <!-- Project Card 5 -->
          <div class="card project-card" style="cursor: pointer;" data-name="Industrial Park Phase 2" data-client="State Government" data-status="On Hold" data-type="Infrastructure" data-budget="25.0" data-progress="30" data-index="2">
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
              <div>
                <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 4px;">Industrial Park Phase 2</h3>
                <div style="font-size: 13px; color: var(--text-secondary);">PRJ-2024-008</div>
              </div>
              <span class="badge badge-danger">On Hold</span>
            </div>
            
            <div style="margin-bottom: 16px;">
              <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">Client: State Government</div>
              <div style="font-size: 13px; color: var(--text-secondary);">Type: Infrastructure</div>
            </div>

            <div style="margin-bottom: 16px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <span style="font-size: 13px; font-weight: 500;">Progress</span>
                <span style="font-size: 13px; font-weight: 600; color: var(--danger-color);">30%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill danger" style="width: 30%;"></div>
              </div>
            </div>

            <div style="display: flex; justify-content: space-between; padding-top: 16px; border-top: 1px solid var(--border-color);">
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Budget</div>
                <div style="font-weight: 600;">‚Çπ25.0 Cr</div>
              </div>
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Deadline</div>
                <div style="font-weight: 600; color: var(--danger-color);">Delayed</div>
              </div>
            </div>

            <div class="project-avatars" style="display: flex; gap: 8px; margin-top: 16px;">
              <div class="avatar" style="background: #f59e0b; width: 32px; height: 32px; font-size: 12px;">AS</div>
              <div class="avatar" style="background: #ef4444; width: 32px; height: 32px; font-size: 12px;">TK</div>
              <div class="avatar" style="background: var(--text-secondary); width: 32px; height: 32px; font-size: 11px;">+7</div>
            </div>
          </div>

          <!-- Project Card 6 -->
          <div class="card project-card" style="cursor: pointer;" data-name="Smart City Complex" data-client="Smart City Corp" data-status="In Progress" data-type="Mixed-Use" data-budget="32.5" data-progress="58" data-index="1">
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
              <div>
                <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 4px;">Smart City Complex</h3>
                <div style="font-size: 13px; color: var(--text-secondary);">PRJ-2024-012</div>
              </div>
              <span class="badge badge-success">In Progress</span>
            </div>
            
            <div style="margin-bottom: 16px;">
              <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">Client: Smart City Corp</div>
              <div style="font-size: 13px; color: var(--text-secondary);">Type: Mixed-Use</div>
            </div>

            <div style="margin-bottom: 16px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <span style="font-size: 13px; font-weight: 500;">Progress</span>
                <span style="font-size: 13px; font-weight: 600; color: var(--warning-color);">58%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill warning" style="width: 58%;"></div>
              </div>
            </div>

            <div style="display: flex; justify-content: space-between; padding-top: 16px; border-top: 1px solid var(--border-color);">
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Budget</div>
                <div style="font-weight: 600;">‚Çπ32.5 Cr</div>
              </div>
              <div>
                <div style="font-size: 12px; color: var(--text-secondary);">Deadline</div>
                <div style="font-weight: 600;">Oct 2026</div>
              </div>
            </div>

            <div class="project-avatars" style="display: flex; gap: 8px; margin-top: 16px;">
              <div class="avatar" style="background: #8b5cf6; width: 32px; height: 32px; font-size: 12px;">RG</div>
              <div class="avatar" style="background: #06b6d4; width: 32px; height: 32px; font-size: 12px;">SM</div>
              <div class="avatar" style="background: var(--text-secondary); width: 32px; height: 32px; font-size: 11px;">+9</div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Project Details Modal -->
  <div class="modal-overlay" id="projectDetailsModal">
    <div class="modal" style="max-width: 900px;">
      <div class="modal-header">
        <h2 class="modal-title" id="projectName">Apollo Towers</h2>
        <button class="modal-close" onclick="closeProjectDetails()">&times;</button>
      </div>
      <div class="modal-body">
        <!-- Tabs -->
        <div class="tabs">
          <button class="tab active" onclick="switchTab(event, 'overview')">Overview</button>
          <button class="tab" onclick="switchTab(event, 'tasks')">Tasks</button>
          <button class="tab" onclick="switchTab(event, 'timeline')">Timeline</button>
          <button class="tab" onclick="switchTab(event, 'documents')">Documents</button>
          <button class="tab" onclick="switchTab(event, 'costing')">Costing</button>
        </div>

        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
          <div class="grid grid-2" style="gap: 24px;">
            <div>
              <h3 style="margin-bottom: 16px;">Project Information</h3>
              <div style="display: grid; gap: 12px;">
                <div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Project Code</div>
                  <div style="font-weight: 500;">PRJ-2024-001</div>
                </div>
                <div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Client</div>
                  <div style="font-weight: 500;">Tech Corp Ltd.</div>
                </div>
                <div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Project Type</div>
                  <div style="font-weight: 500;">Commercial</div>
                </div>
                <div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Location</div>
                  <div style="font-weight: 500;">Sector 62, Noida, UP</div>
                </div>
                <div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Start Date</div>
                  <div style="font-weight: 500;">Jan 15, 2024</div>
                </div>
                <div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Expected Completion</div>
                  <div style="font-weight: 500;">Mar 30, 2026</div>
                </div>
              </div>
            </div>
            <div>
              <h3 style="margin-bottom: 16px;">Financial Details</h3>
              <div style="display: grid; gap: 12px;">
                <div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Total Budget</div>
                  <div style="font-weight: 600; font-size: 20px; color: var(--primary-color);">‚Çπ12.5 Cr</div>
                </div>
                <div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Spent to Date</div>
                  <div style="font-weight: 500;">‚Çπ9.2 Cr (74%)</div>
                </div>
                <div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Remaining Budget</div>
                  <div style="font-weight: 500;">‚Çπ3.3 Cr</div>
                </div>
                <div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Revenue Received</div>
                  <div style="font-weight: 500;">‚Çπ8.0 Cr</div>
                </div>
              </div>
            </div>
          </div>

          <div style="margin-top: 24px;">
            <h3 style="margin-bottom: 16px;">Project Progress</h3>
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span>Overall Completion</span>
              <span style="font-weight: 600; color: var(--success-color);">75%</span>
            </div>
            <div class="progress-bar" style="height: 12px;">
              <div class="progress-fill success" style="width: 75%;"></div>
            </div>
          </div>

          <div style="margin-top: 24px;">
            <h3 style="margin-bottom: 16px;">Team Members</h3>
            <div style="display: flex; gap: 16px; flex-wrap: wrap;">
              <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-primary); border-radius: 8px; flex: 1; min-width: 200px;">
                <div class="avatar" style="background: #3b82f6;">RS</div>
                <div>
                  <div style="font-weight: 500;">Rajesh Singh</div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Project Manager</div>
                </div>
              </div>
              <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-primary); border-radius: 8px; flex: 1; min-width: 200px;">
                <div class="avatar" style="background: #10b981;">AK</div>
                <div>
                  <div style="font-weight: 500;">Amit Kumar</div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Site Engineer</div>
                </div>
              </div>
              <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-primary); border-radius: 8px; flex: 1; min-width: 200px;">
                <div class="avatar" style="background: #f59e0b;">MK</div>
                <div>
                  <div style="font-weight: 500;">Mohan Kumar</div>
                  <div style="font-size: 13px; color: var(--text-secondary);">Civil Supervisor</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tasks Tab -->
        <div id="tasks" class="tab-content">
          <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
            <h3>Project Tasks</h3>
            <button class="btn btn-primary btn-sm">+ Add Task</button>
          </div>
          <table>
            <thead>
              <tr>
                <th>Task Name</th>
                <th>Assigned To</th>
                <th>Status</th>
                <th>Priority</th>
                <th>Due Date</th>
                <th>Progress</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Foundation Work</strong></td>
                <td>
                  <div class="avatar" style="background: #3b82f6; width: 32px; height: 32px; font-size: 12px;">RS</div>
                </td>
                <td><span class="badge badge-success">Completed</span></td>
                <td><span class="badge badge-danger">High</span></td>
                <td>Jan 30, 2024</td>
                <td>100%</td>
              </tr>
              <tr>
                <td><strong>Structural Framework</strong></td>
                <td>
                  <div class="avatar" style="background: #10b981; width: 32px; height: 32px; font-size: 12px;">AK</div>
                </td>
                <td><span class="badge badge-success">In Progress</span></td>
                <td><span class="badge badge-danger">High</span></td>
                <td>May 15, 2025</td>
                <td>85%</td>
              </tr>
              <tr>
                <td><strong>MEP Installation</strong></td>
                <td>
                  <div class="avatar" style="background: #f59e0b; width: 32px; height: 32px; font-size: 12px;">MK</div>
                </td>
                <td><span class="badge badge-warning">In Progress</span></td>
                <td><span class="badge badge-warning">Medium</span></td>
                <td>Aug 20, 2025</td>
                <td>60%</td>
              </tr>
              <tr>
                <td><strong>Interior Finishing</strong></td>
                <td>
                  <div class="avatar" style="background: #8b5cf6; width: 32px; height: 32px; font-size: 12px;">VJ</div>
                </td>
                <td><span class="badge badge-secondary">Pending</span></td>
                <td><span class="badge badge-info">Low</span></td>
                <td>Dec 10, 2025</td>
                <td>20%</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Timeline Tab -->
        <div id="timeline" class="tab-content">
          <h3 style="margin-bottom: 16px;">Project Timeline (Gantt Chart)</h3>
          <div style="padding: 40px; background: var(--bg-primary); border-radius: 8px; text-align: center;">
            <div style="font-size: 48px; margin-bottom: 16px;">üìä</div>
            <div style="color: var(--text-secondary);">Gantt Chart Visualization</div>
            <div style="font-size: 13px; color: var(--text-secondary); margin-top: 8px;">
              Interactive timeline view showing task dependencies and progress
            </div>
          </div>
        </div>

        <!-- Documents Tab -->
        <div id="documents" class="tab-content">
          <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
            <h3>Project Documents</h3>
            <button class="btn btn-primary btn-sm">+ Upload Document</button>
          </div>
          <table>
            <thead>
              <tr>
                <th>Document Name</th>
                <th>Type</th>
                <th>Uploaded By</th>
                <th>Date</th>
                <th>Size</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>üìÑ Project Blueprint.pdf</strong></td>
                <td>Design</td>
                <td>Rajesh Singh</td>
                <td>Jan 10, 2024</td>
                <td>12.5 MB</td>
                <td>
                  <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 12px;">Download</button>
                </td>
              </tr>
              <tr>
                <td><strong>üìÑ Contract Agreement.pdf</strong></td>
                <td>Legal</td>
                <td>Admin</td>
                <td>Jan 05, 2024</td>
                <td>2.3 MB</td>
                <td>
                  <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 12px;">Download</button>
                </td>
              </tr>
              <tr>
                <td><strong>üìä Budget Sheet.xlsx</strong></td>
                <td>Finance</td>
                <td>Amit Kumar</td>
                <td>Jan 15, 2024</td>
                <td>856 KB</td>
                <td>
                  <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 12px;">Download</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Costing Tab -->
        <div id="costing" class="tab-content">
          <h3 style="margin-bottom: 16px;">Project Costing Breakdown</h3>
          <table>
            <thead>
              <tr>
                <th>Category</th>
                <th>Budgeted</th>
                <th>Spent</th>
                <th>Remaining</th>
                <th>Variance</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Materials</strong></td>
                <td>‚Çπ5.0 Cr</td>
                <td>‚Çπ3.8 Cr</td>
                <td>‚Çπ1.2 Cr</td>
                <td><span class="badge badge-success">-4%</span></td>
              </tr>
              <tr>
                <td><strong>Labour</strong></td>
                <td>‚Çπ3.5 Cr</td>
                <td>‚Çπ2.6 Cr</td>
                <td>‚Çπ0.9 Cr</td>
                <td><span class="badge badge-success">-2%</span></td>
              </tr>
              <tr>
                <td><strong>Equipment</strong></td>
                <td>‚Çπ2.0 Cr</td>
                <td>‚Çπ1.7 Cr</td>
                <td>‚Çπ0.3 Cr</td>
                <td><span class="badge badge-warning">+3%</span></td>
              </tr>
              <tr>
                <td><strong>Subcontractors</strong></td>
                <td>‚Çπ1.5 Cr</td>
                <td>‚Çπ0.9 Cr</td>
                <td>‚Çπ0.6 Cr</td>
                <td><span class="badge badge-success">-1%</span></td>
              </tr>
              <tr>
                <td><strong>Overheads</strong></td>
                <td>‚Çπ0.5 Cr</td>
                <td>‚Çπ0.2 Cr</td>
                <td>‚Çπ0.3 Cr</td>
                <td><span class="badge badge-success">On Track</span></td>
              </tr>
              <tr style="background: var(--bg-primary); font-weight: 600;">
                <td><strong>TOTAL</strong></td>
                <td>‚Çπ12.5 Cr</td>
                <td>‚Çπ9.2 Cr</td>
                <td>‚Çπ3.3 Cr</td>
                <td><span class="badge badge-success">-2%</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeProjectDetails()">Close</button>
        <button class="btn btn-primary">Edit Project</button>
      </div>
    </div>
  </div>

  <!-- Add Project Modal -->
  <div class="modal-overlay" id="addProjectModal">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title">Add New Project</h2>
        <button class="modal-close" onclick="closeAddProject()">&times;</button>
      </div>
      <form class="modal-body" id="addProjectForm" onsubmit="handleAddProjectSubmit(event)">
        <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px;">
          <div>
            <label style="display: block; font-size: 13px; color: var(--text-secondary); margin-bottom: 6px;">Project Name</label>
            <input class="form-input" type="text" name="projectName" placeholder="e.g., Riverfront Towers" required>
          </div>
          <div>
            <label style="display: block; font-size: 13px; color: var(--text-secondary); margin-bottom: 6px;">Project Code</label>
            <input class="form-input" type="text" name="projectCode" placeholder="e.g., PRJ-2026-004" required>
          </div>
          <div>
            <label style="display: block; font-size: 13px; color: var(--text-secondary); margin-bottom: 6px;">Client</label>
            <input class="form-input" type="text" name="clientName" placeholder="e.g., Horizon Builders" required>
          </div>
          <div>
            <label style="display: block; font-size: 13px; color: var(--text-secondary); margin-bottom: 6px;">Project Type</label>
            <select class="form-select" name="projectType" required>
              <option value="" disabled selected>Select type</option>
              <option>Residential</option>
              <option>Commercial</option>
              <option>Infrastructure</option>
              <option>Industrial</option>
              <option>Hospitality</option>
              <option>Mixed-Use</option>
            </select>
          </div>
          <div>
            <label style="display: block; font-size: 13px; color: var(--text-secondary); margin-bottom: 6px;">Status</label>
            <select class="form-select" name="projectStatus" required>
              <option value="" disabled selected>Select status</option>
              <option>Planning</option>
              <option>In Progress</option>
              <option>On Hold</option>
              <option>Completed</option>
            </select>
          </div>
          <div>
            <label style="display: block; font-size: 13px; color: var(--text-secondary); margin-bottom: 6px;">Budget (Cr)</label>
            <input class="form-input" type="number" name="projectBudget" min="0" step="0.1" placeholder="e.g., 6.5" required>
          </div>
          <div>
            <label style="display: block; font-size: 13px; color: var(--text-secondary); margin-bottom: 6px;">Deadline</label>
            <input class="form-input" type="month" name="projectDeadline" required>
          </div>
          <div>
            <label style="display: block; font-size: 13px; color: var(--text-secondary); margin-bottom: 6px;">Progress (%)</label>
            <input class="form-input" type="number" name="projectProgress" min="0" max="100" step="1" placeholder="e.g., 35" required>
          </div>
        </div>
        <div style="margin-top: 16px;">
          <label style="display: block; font-size: 13px; color: var(--text-secondary); margin-bottom: 6px;">Notes</label>
          <textarea class="form-textarea" name="projectNotes" placeholder="Optional notes"></textarea>
        </div>
        <div class="modal-footer" style="padding: 0; border-top: none; margin-top: 20px;">
          <button type="button" class="btn btn-secondary" onclick="closeAddProject()">Cancel</button>
          <button type="submit" class="btn btn-primary">Create Project</button>
        </div>
      </form>
    </div>
  </div>

  <!-- View Options Modal -->
  <div class="modal-overlay" id="viewOptionsModal">
    <div class="modal" style="max-width: 480px;">
      <div class="modal-header">
        <h2 class="modal-title">View Options</h2>
        <button class="modal-close" onclick="closeViewOptions()">&times;</button>
      </div>
      <div class="modal-body" style="display: grid; gap: 20px;">
        <div>
          <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Layout</div>
          <div style="display: flex; gap: 12px; flex-wrap: wrap;">
            <label style="display: flex; align-items: center; gap: 8px;">
              <input type="radio" name="gridLayout" value="grid-2">
              2 Columns
            </label>
            <label style="display: flex; align-items: center; gap: 8px;">
              <input type="radio" name="gridLayout" value="grid-3" checked>
              3 Columns
            </label>
            <label style="display: flex; align-items: center; gap: 8px;">
              <input type="radio" name="gridLayout" value="grid-4">
              4 Columns
            </label>
          </div>
        </div>
        <div>
          <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Density</div>
          <label style="display: flex; align-items: center; gap: 8px;">
            <input type="checkbox" id="compactToggle">
            Compact cards
          </label>
        </div>
        <div>
          <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Details</div>
          <label style="display: flex; align-items: center; gap: 8px;">
            <input type="checkbox" id="avatarsToggle" checked>
            Show team avatars
          </label>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeViewOptions()">Close</button>
        <button class="btn btn-primary" onclick="applyViewOptions()">Apply</button>
      </div>
    </div>
  </div>

  <script>
    function showProjectDetails(projectName) {
      document.getElementById('projectName').textContent = projectName;
      document.getElementById('projectDetailsModal').classList.add('active');
    }

    function closeProjectDetails() {
      document.getElementById('projectDetailsModal').classList.remove('active');
    }

    function switchTab(event, tabName) {
      // Hide all tab contents
      const tabContents = document.querySelectorAll('.tab-content');
      tabContents.forEach(content => content.classList.remove('active'));

      // Remove active class from all tabs
      const tabs = document.querySelectorAll('.tab');
      tabs.forEach(tab => tab.classList.remove('active'));

      // Show selected tab and mark as active
      document.getElementById(tabName).classList.add('active');
      event.target.classList.add('active');
    }

    function showAddProject() {
      document.getElementById('addProjectModal').classList.add('active');
    }

    function closeAddProject() {
      const modal = document.getElementById('addProjectModal');
      const form = document.getElementById('addProjectForm');
      if (form) {
        form.reset();
      }
      modal.classList.remove('active');
    }

    function handleAddProjectSubmit(event) {
      event.preventDefault();

      const form = event.target;
      const name = form.projectName.value.trim();
      const code = form.projectCode.value.trim();
      const client = form.clientName.value.trim();
      const type = form.projectType.value.trim();
      const status = form.projectStatus.value.trim();
      const budget = form.projectBudget.value.trim();
      const deadline = form.projectDeadline.value;
      const progress = Math.min(100, Math.max(0, Number(form.projectProgress.value)));

      if (!name || !code || !client || !type || !status || !budget || !deadline) {
        return;
      }

      const statusClassMap = {
        'Planning': 'badge-warning',
        'In Progress': 'badge-success',
        'On Hold': 'badge-danger',
        'Completed': 'badge-info'
      };
      const progressClassMap = {
        'Planning': 'warning',
        'In Progress': 'success',
        'On Hold': 'danger',
        'Completed': 'success'
      };

      const statusClass = statusClassMap[status] || 'badge-secondary';
      const progressClass = progressClassMap[status] || '';
      const deadlineLabel = formatMonth(deadline);
      const initials = getInitials(name);

      const cardHtml = `
        <div class="card project-card" style="cursor: pointer;" onclick="showProjectDetails('${name.replace(/'/g, "&#39;")}')" data-name="${name}" data-client="${client}" data-status="${status}" data-type="${type}" data-budget="${budget}" data-progress="${progress}" data-index="${Date.now()}">
          <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
            <div>
              <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 4px;">${name}</h3>
              <div style="font-size: 13px; color: var(--text-secondary);">${code}</div>
            </div>
            <span class="badge ${statusClass}">${status}</span>
          </div>
          <div style="margin-bottom: 16px;">
            <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">Client: ${client}</div>
            <div style="font-size: 13px; color: var(--text-secondary);">Type: ${type}</div>
          </div>
          <div style="margin-bottom: 16px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
              <span style="font-size: 13px; font-weight: 500;">Progress</span>
              <span style="font-size: 13px; font-weight: 600; color: var(--success-color);">${progress}%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill ${progressClass}" style="width: ${progress}%;"></div>
            </div>
          </div>
          <div style="display: flex; justify-content: space-between; padding-top: 16px; border-top: 1px solid var(--border-color);">
            <div>
              <div style="font-size: 12px; color: var(--text-secondary);">Budget</div>
              <div style="font-weight: 600;">‚Çπ${budget} Cr</div>
            </div>
            <div>
              <div style="font-size: 12px; color: var(--text-secondary);">Deadline</div>
              <div style="font-weight: 600;">${deadlineLabel}</div>
            </div>
          </div>
          <div class="project-avatars" style="display: flex; gap: 8px; margin-top: 16px;">
            <div class="avatar" style="background: #3b82f6; width: 32px; height: 32px; font-size: 12px;">${initials}</div>
          </div>
        </div>
      `;

      const grid = document.getElementById('projectsGrid');
      if (grid) {
        grid.insertAdjacentHTML('afterbegin', cardHtml);
      }

      applyProjectFilters();
      closeAddProject();
    }

    function applyProjectFilters() {
      const statusFilter = document.getElementById('statusFilter');
      const typeFilter = document.getElementById('typeFilter');
      const sortFilter = document.getElementById('sortFilter');
      const searchInput = document.getElementById('projectSearchInput');
      const grid = document.getElementById('projectsGrid');

      if (!grid) {
        return;
      }

      const statusValue = statusFilter ? statusFilter.value : 'all';
      const typeValue = typeFilter ? typeFilter.value : 'all';
      const sortValue = sortFilter ? sortFilter.value : 'latest';
      const searchValue = searchInput ? searchInput.value.trim().toLowerCase() : '';

      const cards = Array.from(grid.querySelectorAll('.card'));

      cards.forEach(card => {
        const cardStatus = card.dataset.status || '';
        const cardType = card.dataset.type || '';
        const cardName = (card.dataset.name || '').toLowerCase();
        const cardClient = (card.dataset.client || '').toLowerCase();

        const matchesStatus = statusValue === 'all' || cardStatus === statusValue;
        const matchesType = typeValue === 'all' || cardType === typeValue;
        const matchesSearch = !searchValue || cardName.includes(searchValue) || cardClient.includes(searchValue);

        card.style.display = matchesStatus && matchesType && matchesSearch ? '' : 'none';
      });

      const visibleCards = cards.filter(card => card.style.display !== 'none');
      const sortedCards = visibleCards.sort((a, b) => {
        if (sortValue === 'name') {
          return (a.dataset.name || '').localeCompare(b.dataset.name || '');
        }
        if (sortValue === 'budget') {
          return Number(b.dataset.budget || 0) - Number(a.dataset.budget || 0);
        }
        if (sortValue === 'progress') {
          return Number(b.dataset.progress || 0) - Number(a.dataset.progress || 0);
        }
        return Number(b.dataset.index || 0) - Number(a.dataset.index || 0);
      });

      sortedCards.forEach(card => grid.appendChild(card));
    }

    function initProjectFilters() {
      const statusFilter = document.getElementById('statusFilter');
      const typeFilter = document.getElementById('typeFilter');
      const sortFilter = document.getElementById('sortFilter');
      const searchInput = document.getElementById('projectSearchInput');

      if (statusFilter) {
        statusFilter.addEventListener('change', applyProjectFilters);
      }
      if (typeFilter) {
        typeFilter.addEventListener('change', applyProjectFilters);
      }
      if (sortFilter) {
        sortFilter.addEventListener('change', applyProjectFilters);
      }
      if (searchInput) {
        searchInput.addEventListener('input', applyProjectFilters);
      }

      applyProjectFilters();
    }

    function showViewOptions() {
      syncViewOptionsState();
      document.getElementById('viewOptionsModal').classList.add('active');
    }

    function closeViewOptions() {
      document.getElementById('viewOptionsModal').classList.remove('active');
    }

    function syncViewOptionsState() {
      const grid = document.getElementById('projectsGrid');
      if (!grid) {
        return;
      }

      const layoutRadios = document.querySelectorAll('input[name="gridLayout"]');
      const compactToggle = document.getElementById('compactToggle');
      const avatarsToggle = document.getElementById('avatarsToggle');

      layoutRadios.forEach(radio => {
        radio.checked = grid.classList.contains(radio.value);
      });

      if (compactToggle) {
        compactToggle.checked = grid.classList.contains('compact');
      }
      if (avatarsToggle) {
        avatarsToggle.checked = !grid.classList.contains('hide-avatars');
      }
    }

    function applyViewOptions() {
      const grid = document.getElementById('projectsGrid');
      if (!grid) {
        return;
      }

      const selectedLayout = document.querySelector('input[name="gridLayout"]:checked');
      const compactToggle = document.getElementById('compactToggle');
      const avatarsToggle = document.getElementById('avatarsToggle');

      grid.classList.remove('grid-2', 'grid-3', 'grid-4');
      if (selectedLayout) {
        grid.classList.add(selectedLayout.value);
      }

      if (compactToggle && compactToggle.checked) {
        grid.classList.add('compact');
      } else {
        grid.classList.remove('compact');
      }

      if (avatarsToggle && avatarsToggle.checked) {
        grid.classList.remove('hide-avatars');
      } else {
        grid.classList.add('hide-avatars');
      }

      closeViewOptions();
    }

    window.addEventListener('load', () => {
      initProjectFilters();
      syncViewOptionsState();
    });

    function formatMonth(value) {
      if (!value) return '';
      const [year, month] = value.split('-').map(Number);
      const date = new Date(year, month - 1, 1);
      return date.toLocaleString('en-US', { month: 'short', year: 'numeric' });
    }

    function getInitials(text) {
      const parts = text.split(' ').filter(Boolean);
      if (parts.length === 1) {
        return parts[0].slice(0, 2).toUpperCase();
      }
      return (parts[0][0] + parts[1][0]).toUpperCase();
    }
  </script>
  <script src="logout.js"></script>
  <script src="notifications.js"></script>
</body>
</html>